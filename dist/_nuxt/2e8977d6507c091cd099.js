(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{213:function(t,e,o){var content=o(249);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(41).default)("481abac2",content,!0,{sourceMap:!1})},248:function(t,e,o){"use strict";var n=o(213);o.n(n).a},249:function(t,e,o){(t.exports=o(40)(!1)).push([t.i,".login-box{width:400px}.login-box .logo-login{height:60px;width:auto}.login-box .form-control{background:none;border:1px solid #ccc;border-radius:5px}.login-box .btn-login{margin-top:20px;background:#1b3c82}.login-box .login-footer a.reg{color:green}.login-box .br.text-center{border-bottom:1px solid #ccc;margin-bottom:20px;position:relative}.login-box .br.text-center span{display:inline-block;background:#fff;top:-10px;position:absolute;padding:0 10px;left:43%}",""])},258:function(t,e,o){"use strict";o.r(e);var n=o(241);o(246);n.apps.length||n.initializeApp({apiKey:"AIzaSyC98GgrN34v5paDdWfexQSA_v2qSfU0yRo",authDomain:"kto-landing.firebaseapp.com",databaseURL:"https://kto-landing.firebaseio.com",projectId:"kto-landing",storageBucket:"kto-landing.appspot.com",messagingSenderId:"343465466923",appId:"1:343465466923:web:2b8abddcea92bd85"});var r=n,l=new r.auth.FacebookAuthProvider,c={methods:{loginByFacebook:function(){var t=this;r.auth().signInWithPopup(l).then(function(data){var e={id:0,cookie:data.credential.accessToken,username:data.user.email,email:data.user.email,displayName:data.user.displayName};localStorage.setItem("checkUser",JSON.stringify(e)),t.$router.push("/single-info")}).catch(function(e){t.$router.push("/single-info")})}}},d=o(20),h=Object(d.a)(c,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-button",{attrs:{block:"",variant:"facebook"},on:{click:function(e){return e.preventDefault(),t.loginByFacebook(e)}}},[o("i",{staticClass:"fa fa-facebook"}),t._v(" Facebook")])},[],!1,null,null,null).exports,m=new r.auth.GoogleAuthProvider,v={methods:{loginByGoogle:function(){var t=this;r.auth().signInWithPopup(m).then(function(data){console.log("ggg",data);var e={id:0,cookie:data.credential.accessToken,username:data.user.email,email:data.user.email,displayName:data.user.displayName};localStorage.setItem("checkUser",JSON.stringify(e)),t.$router.push("/single-info")}).catch(function(e){console.log("ggge",e),t.$router.push("/single-info")})}}},f={components:{Facebook:h,Google:Object(d.a)(v,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-button",{attrs:{block:"",variant:"google"},on:{click:function(e){return e.preventDefault(),t.loginByGoogle(e)}}},[o("i",{staticClass:"fa fa-google-plus"}),t._v(" Google")])},[],!1,null,null,null).exports},data:function(){return{login:{username:"",password:""},err:[],loading:!1}},methods:{postLogin:function(){var t=this;this.err=[],this.login.username&&this.login.password?(this.loading=!0,this.$axios.post("https://www.visitkorea.org.vn/api/user/generate_auth_cookie/?username=".concat(this.login.username,"&password=").concat(this.login.password)).then(function(e){if(console.log(e),e.data.error)t.err.push("Tài khoản hoặc mật khẩu không đúng"),t.loading=!1;else{var o={id:e.data.user.id,cookie:e.data.cookie,username:e.data.user.username,email:e.data.user.email,displayName:e.data.user.displayname};localStorage.setItem("checkUser",JSON.stringify(o)),t.loading=!1,t.$router.push({path:"/single-info"})}}).catch(function(t){console.log(t)})):this.err.push("Tài khoản và mật khẩu không được bỏ trống")},checkEmail:function(){}}},k=(o(248),Object(d.a)(f,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login inner-page"},[o("div",{staticClass:"login-box inner-box"},[t._m(0),t._v(" "),t.err.length>0?o("div",[o("div",{staticClass:"alert alert-warning"},[o("ul",t._l(t.err,function(text,i){return o("li",{key:i,domProps:{textContent:t._s(text)}})}),0)])]):t._e(),t._v(" "),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.username,expression:"login.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tài khoản"},domProps:{value:t.login.username},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.nextElementSibling.focus()},input:function(e){e.target.composing||t.$set(t.login,"username",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Mật khẩu"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})]),t._v(" "),t._m(1),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-12 col-md-6"},[o("Facebook")],1),t._v(" "),o("div",{staticClass:"col-12 col-md-6"},[o("Google")],1)]),t._v(" "),o("div",{staticClass:"form-group"},[t.loading?o("b-spinner",{attrs:{variant:"success",type:"grow",label:"Spinning"}}):o("a",{staticClass:"btn btn-block btn-login",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.postLogin(e)}}},[t._v(" \n                Đăng nhập\n            ")])],1),t._v(" "),o("div",{staticClass:"login-footer"},[t._m(2),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"text-center"},[t._v("Chưa có tài khoản? "),o("nuxt-link",{staticClass:"reg",attrs:{to:"/user/register"}},[o("b",[t._v(" Đăng ký thành viên")])])],1)])]),t._v(" "),o("img",{attrs:{src:"/imgs/footter.png",alt:""}})])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("img",{staticClass:"logo-login",attrs:{src:"/imgs/logo.png",alt:""}}),this._v(" "),e("hr"),this._v(" "),e("h3",{staticClass:"gr-title"},[this._v("ĐĂNG NHẬP")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"br text-center"},[e("span",[this._v("hoặc")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("input",{attrs:{type:"checkbox",name:"",id:""}}),this._v(" Lưu mật khẩu\n                ")]),this._v(" "),e("div",{staticClass:"col-6 text-right"},[e("a",{attrs:{href:"https://www.visitkorea.org.vn/lostpassword/",target:"_blank"}},[this._v("Quên mật khẩu?")])])])}],!1,null,null,null));e.default=k.exports}}]);