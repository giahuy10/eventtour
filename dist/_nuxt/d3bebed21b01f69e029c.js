(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{214:function(e,t,r){var content=r(251);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(41).default)("5e9858a5",content,!0,{sourceMap:!1})},250:function(e,t,r){"use strict";var n=r(214);r.n(n).a},251:function(e,t,r){(e.exports=r(40)(!1)).push([e.i,".inner-register{width:700px}.inner-register .logo-login{height:60px;width:auto}",""])},262:function(e,t,r){"use strict";r.r(t);var n={data:function(){return{err:[],loading:!1,regiser:{username:"",password:"",confirmPassword:"",email:"",displayName:""}}},methods:{validEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},handleRegister:function(){var e=this;if(this.err=[],this.regiser.username||this.err.push("Tài khoản không được bỏ trống"),this.regiser.email||this.err.push("Email không được bỏ trống"),this.regiser.password&&this.regiser.confirmPassword||this.err.push("Mật khẩu không được bỏ trống"),this.regiser.password!==this.regiser.confirmPassword&&this.err.push("Xác nhận mật khẩu không đúng"),this.validEmail(this.regiser.email)||this.err.push("Email không đúng định dạng"),this.err.length<1){this.loading=!0;var t=this;this.$axios.post("https://www.visitkorea.org.vn/api/get_nonce/?controller=user&method=register").then(function(r){var n=r.data.nonce;e.$axios.post("https://www.visitkorea.org.vn/api/user/register/?username=".concat(e.regiser.username,"&user_pass=").concat(e.regiser.password,"&email=").concat(e.regiser.email,"&nonce=").concat(n,"&display_name=").concat(e.regiser.displayName)).then(function(r){console.log(r);var n={id:r.data.user_id,cookie:r.data.cookie,username:t.regiser.username,email:t.regiser.email,displayName:t.regiser.displayName};localStorage.setItem("checkUser",JSON.stringify(n)),t.loading=!1,e.$router.push({path:"/single-info"})}).catch(function(r){t.loading=!1,e.err.push("Tài khoản hoặc email đã tồn tại")})}).catch(function(e){console.log(e)})}}}},o=(r(250),r(20)),component=Object(o.a)(n,function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register-page inner-page"},[r("div",{staticClass:"inner-box inner-register"},[e._m(0),e._v(" "),e.err.length>0?r("div",[r("div",{staticClass:"alert alert-warning"},[r("ul",e._l(e.err,function(text,i){return r("li",{key:i,domProps:{textContent:e._s(text)}})}),0)])]):e._e(),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.regiser.username,expression:"regiser.username"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tên đăng nhập"},domProps:{value:e.regiser.username},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.nextElementSibling.focus()},input:function(t){t.target.composing||e.$set(e.regiser,"username",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.regiser.password,expression:"regiser.password"}],staticClass:"visible-xs form-control",attrs:{type:"password",placeholder:"Mật khẩu"},domProps:{value:e.regiser.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.nextElementSibling.focus()},input:function(t){t.target.composing||e.$set(e.regiser,"password",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.regiser.displayName,expression:"regiser.displayName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Họ tên"},domProps:{value:e.regiser.displayName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.nextElementSibling.focus()},input:function(t){t.target.composing||e.$set(e.regiser,"displayName",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.regiser.confirmPassword,expression:"regiser.confirmPassword"}],staticClass:"form-control visible-xs ",attrs:{type:"password",id:"confirm-password",placeholder:"Xác nhận mật khẩu"},domProps:{value:e.regiser.confirmPassword},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.nextElementSibling.focus()},input:function(t){t.target.composing||e.$set(e.regiser,"confirmPassword",t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"form-group"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.regiser.email,expression:"regiser.email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Email"},domProps:{value:e.regiser.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.nextElementSibling.focus()},input:function(t){t.target.composing||e.$set(e.regiser,"email",t.target.value)}}})])]),e._v(" "),r("div",{staticClass:"col-12 col-md-6"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 col-md-6"},[r("b-button",{attrs:{block:"",variant:"facebook"},on:{click:function(t){return t.preventDefault(),e.loginByFacebook(t)}}},[r("i",{staticClass:"fa fa-facebook"}),e._v(" Facebook")])],1),e._v(" "),r("div",{staticClass:"col-12 col-md-6"},[r("b-button",{attrs:{block:"",variant:"google"},on:{click:function(t){return t.preventDefault(),e.loginByGoogle(t)}}},[r("i",{staticClass:"fa fa-google-plus"}),e._v(" Google")])],1)])])]),e._v(" "),r("div",{staticClass:"form-group"},[e.loading?r("b-spinner",{attrs:{variant:"success",type:"grow",label:"Spinning"}}):r("a",{staticClass:"btn btn-block btn-login",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("\n                Đăng ký\n            ")])],1),e._v(" "),r("hr"),e._v(" "),r("div",{staticClass:"text-center"},[e._v("Đã có tài khoản? "),r("nuxt-link",{staticClass:"reg",attrs:{to:"/user/login"}},[r("b",[e._v(" Đăng nhập")])])],1)])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"text-center"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("img",{staticClass:"logo-login",attrs:{src:"/imgs/logo.png",alt:""}})]),this._v(" "),t("div",{staticClass:"col-6 text-right"},[t("h3",{staticClass:"gr-title"},[this._v("ĐĂNG KÝ")])])]),this._v(" "),t("hr")])}],!1,null,null,null);t.default=component.exports}}]);